#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import threading

USERNAME = 'ubuntu'  # username of servers
PASSWD = 'easonBACKPACK123'  # password of servers
MAXPAYLOAD = 4  # maximum number of containers running on one server 单个ip最大的容器数
NODE_COUNT = 12  # 主机个数 * MAXPAYLOAD   #所有节点数:最大为主机数×MAXPAYLOAD
IP_CONFIG = 'ip.txt'  # server IPs
SECONDS_IN_A_DAY = 60 * 60 * 24
SEMAPHORE = threading.BoundedSemaphore(15)
ABI = '[{"constant":false,"inputs":[{"name":"valuesa","type":"uint256"},{"name":"cmts_a","type":"bytes32"}],"name":"Refund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"H0","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"addressa","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"h0","type":"bytes32"},{"name":"amount","type":"uint256"},{"name":"n","type":"uint256"}],"name":"Commit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"amounts","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"addressb","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"hi","type":"bytes32"},{"name":"valuesb","type":"uint256"},{"name":"cmts_b","type":"bytes32"}],"name":"Claim","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"cmts_B","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"N","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cmts_A","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]'
BIN = '0x60806040526000600760006101000a81548160ff0219169083151502179055506000600760016101000a81548160ff02191690831515021790555034801561004657600080fd5b50610666806100566000396000f3006080604052600436106100a4576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063204b15dd146100a95780632d9aa9a4146100e45780633c8279d21461011757806357c420591461016e5780636beaeeae146101b35780637d553c5a146101de57806388ac26dc14610235578063b14df2791461027e578063c9e525df146102b1578063e648e26b146102dc575b600080fd5b3480156100b557600080fd5b506100e260048036038101908080359060200190929190803560001916906020019092919050505061030f565b005b3480156100f057600080fd5b506100f9610398565b60405180826000191660001916815260200191505060405180910390f35b34801561012357600080fd5b5061012c61039e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561017a57600080fd5b506101b1600480360381019080803560001916906020019092919080359060200190929190803590602001909291905050506103c4565b005b3480156101bf57600080fd5b506101c861045b565b6040518082815260200191505060405180910390f35b3480156101ea57600080fd5b506101f3610461565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561024157600080fd5b5061027c6004803603810190808035600019169060200190929190803590602001909291908035600019169060200190929190505050610487565b005b34801561028a57600080fd5b50610293610628565b60405180826000191660001916815260200191505060405180910390f35b3480156102bd57600080fd5b506102c661062e565b6040518082815260200191505060405180910390f35b3480156102e857600080fd5b506102f1610634565b60405180826000191660001916815260200191505060405180910390f35b600760019054906101000a900460ff1680156103785750600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b15610394578160045414156103935780600181600019169055505b5b5050565b60065481565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60001515600760009054906101000a900460ff1615151415610456578160048190555080600581905550826006816000191690555033600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001600760006101000a81548160ff0219169083151502179055505b505050565b60045481565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000806000600760009054906101000a900460ff1680156104be575060001515600760019054906101000a900460ff161515145b1561061e57879350600092505b61271083101561058e57836040516020018082600019166000191681526020019150506040516020818303038152906040526040518082805190602001908083835b602083101515610532578051825260208201915060208101905060208303925061050d565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390209150600654600019168260001916141561057e5760018301945061058e565b81935082806001019350506104cb565b600554856004540281151561059f57fe5b0490508681141561061d57806004540360048190555033600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555085600081600019169055506001600760016101000a81548160ff0219169083151502179055505b5b5050505050505050565b60005481565b60055481565b600154815600a165627a7a72305820c4ff66b2d9bc8daf6608eade468582fff7b6e7b5a50471fe1bc15b9b40a6e5140029'



# CONFIG = 'testLatency2.txt'  # config file for HIBEChain
# USERNAME = 'dell'  # username of servers
# PASSWD = 'dell@2017'  # password of servers
# MAXPAYLOAD = 2  # maximum number of containers running on one server
# IP_CONFIG = 'ip.txt'  # server IPs
# SECONDS_IN_A_DAY = 60 * 60 * 24
# SEMAPHORE = threading.BoundedSemaphore(15)

# wait after copy... for 100 nodes
